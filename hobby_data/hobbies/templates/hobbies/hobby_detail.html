{% extends "base.html" %}
{% load tz %}
{% block title %}{{ object.name }}{% endblock %}
{% block content %}
  <p class="muted">Category: {{ object.category }}</p>
  {% if object.description %}
    <p><strong>Description:</strong><br>{{ object.description|linebreaksbr }}</p>
  {% endif %}
  {% if object.url %}
    <p><strong>URL:</strong> <a href="{{ object.url }}">{{ object.url }}</a></p>
  {% endif %}
  {% if object.notes %}
    <p><strong>Notes:</strong><br>{{ object.notes|linebreaksbr }}</p>
  {% endif %}
  <h2>Details</h2>
  <p><a href="{% url 'hobby-detail-add' object.pk %}">Add detail</a></p>
  {% if details %}
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Category</th>
          <th>URL</th>
          <th>Updated</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for detail in details %}
          <tr>
            <td>{% if detail.name %}{{ detail.name }}{% else %}<span class="muted">(no name)</span>{% endif %}</td>
            <td>{% if detail.category %}{{ detail.category }}{% else %}<span class="muted">-</span>{% endif %}</td>
            <td>
              {% if detail.url %}
                <a href="{{ detail.url }}">{{ detail.url }}</a>
              {% else %}
                <span class="muted">-</span>
              {% endif %}
            </td>
            <td>{{ detail.date_updated|localtime|date:"Y-m-d H:i" }}</td>
            <td class="actions">
              <a href="{% url 'hobby-detail-edit' object.pk detail.pk %}">Edit</a>
              <a href="{% url 'hobby-detail-delete' object.pk detail.pk %}">Delete</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="muted">No details yet.</p>
  {% endif %}
  <p class="muted">Created: {{ object.date_created|date:"Y-m-d H:i" }} | Updated: {{ object.date_updated|localtime|date:"Y-m-d H:i" }}</p>
  <p class="actions">
    <a href="{% url 'hobby-edit' object.pk %}">Edit</a>
    <a href="{% url 'hobby-delete' object.pk %}">Delete</a>
  </p>
{% endblock %}
